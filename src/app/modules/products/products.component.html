@if (products.length === 0) {
  <div class="card">
    <p-dataView #dv [value]="products">
      <ng-template pTemplate="list" let-products>
        <div class="grid grid-nogutter">
          @for (i of counterArray(6); let first = $first; track i) {
            <div class="col-12"  class="col-12">
              <div class="flex flex-column xl:flex-row xl:align-items-start p-4 gap-4" [ngClass]="{ 'border-top-1 surface-border': !first }">
                <p-skeleton styleClass="w-9 sm:w-16rem xl:w-10rem h-6rem block xl:block mx-auto border-round" />
                <div class="flex flex-column sm:flex-row justify-content-between align-items-center xl:align-items-start flex-1 gap-4">
                  <div class="flex flex-column align-items-center sm:align-items-start gap-3">
                    <p-skeleton styleClass="w-8rem border-round h-2rem" />
                    <p-skeleton styleClass="w-6rem border-round h-1rem" />
                    <div class="flex align-items-center gap-3">
                      <p-skeleton styleClass="w-6rem border-round h-1rem" />
                      <p-skeleton styleClass="w-3rem border-round h-1rem" />
                    </div>
                  </div>
                  <div class="flex sm:flex-column align-items-center sm:align-items-end gap-3 sm:gap-2">
                    <p-skeleton styleClass="w-4rem border-round h-2rem" />
                    <p-skeleton shape="circle" styleClass="w-3rem h-3rem" />
                  </div>
                </div>
              </div>
            </div>
          }
        </div>
      </ng-template>
      <ng-template let-product pTemplate="grid" let-products>
        <div class="grid grid-nogutter">
          <div class="col-12 sm:col-6 md:col-4 xl:col-6 p-2" *ngFor="let i of counterArray(6)">
            <div class="p-4 border-1 surface-border surface-card border-round">
              <div class="flex flex-wrap align-items-center justify-content-between gap-2">
                <p-skeleton styleClass="w-6rem border-round h-2rem" />
                <p-skeleton styleClass="w-3rem border-round h-1rem" />
              </div>
              <div class="flex flex-column align-items-center gap-3 py-5">
                <p-skeleton styleClass="w-9 border-round h-10rem" />
                <p-skeleton styleClass="w-8rem border-round h-2rem" />
                <p-skeleton styleClass="w-6rem border-round h-1rem" />
              </div>
              <div class="flex align-items-center justify-content-between">
                <p-skeleton styleClass="w-4rem border-round h-2rem" />
                <p-skeleton shape="circle" styleClass="w-3rem h-3rem" />
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </p-dataView>
  </div>
} @else {
  <div class="card">
    <p-dataView #dv [value]="products">
      <ng-template pTemplate="list" let-products>
        <div class="grid grid-nogutter">
          @for (product of products; let first = $first; track product.productId) {
            <section class="col-12 card">
              <div class="flex flex-column sm:flex-row sm:align-items-center p-4 gap-3" [ngClass]="{ 'border-top-1 surface-border': !first }">
                <a [routerLink]="slug(product.productName, product.productId)" class="md:w-10rem relative">
                  <img class="block xl:block mx-auto border-round w-full" [src]="product.productImage[0]" [alt]="product.productName" />
                </a>
                <div class="flex flex-column md:flex-row justify-content-between md:align-items-center flex-1 gap-4">
                  <div class="flex flex-row md:flex-column justify-content-between align-items-start gap-2">
                    <article>
                      <h2 class="text-lg font-medium text-900 mt-2">{{ product.productName }}</h2>
                      <p class="font-medium text-secondary text-sm" *ngIf="product.productDescription.description">{{ product.productDescription.description }}</p>
                    </article>
                  </div>
                  <div class="flex flex-column md:align-items-end gap-5">
                    <span class="text-xl font-semibold text-900">{{ price(product.productPrice) }}</span>
                    <div class="flex flex-row-reverse md:flex-row gap-2">
                      <p-button icon="pi pi-heart" [outlined]="true" (onClick)="addFavorite(product)" />
                      <p-button icon="pi pi-shopping-cart" class="flex-auto md:flex-initial white-space-nowrap" label="Buy Now" [disabled]="false" />
                    </div>
                  </div>
                </div>
              </div>
            </section>
          }
        </div>
      </ng-template>
    </p-dataView>
  </div>
}
